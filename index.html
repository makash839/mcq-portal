<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MCQ Login</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
}
.box{
  max-width:420px;
  margin:60px auto;
  background:#fff;
  padding:25px;
  box-shadow:0 0 10px rgba(0,0,0,.2);
}
h2{
  text-align:center;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  font-size:15px;
}
button{
  background:#007bff;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{
  background:#0056b3;
}
small{
  color:#555;
}
</style>
</head>

<body>

<div class="box">
  <h2>MCQ Test Login</h2>

  <form onsubmit="submitLogin(event)">
    <input id="name" placeholder="Full Name" required>
    <input id="mobile" placeholder="Mobile Number" required>
    <input id="email" type="email" placeholder="Email Address" required>
    <input id="password" type="password" placeholder="Password" required>

    <button type="submit">Login & Start Test</button>
  </form>

  <small>* Authorized users only</small>
</div>

<script>
/* ====== CHANGE ONLY IF SCRIPT URL CHANGES ====== */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzd1zchKrcEsizMnrrFm_BGvI5iejTRnaN4rE2YDwE83D5yy8Re00bBrdboE4w639hYgQ/exec";

function submitLogin(e){
  e.preventDefault();

  const name = document.getElementById("name").value.trim();
  const mobile = document.getElementById("mobile").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  if(!name || !mobile || !email || !password){
    alert("All fields are required");
    return;
  }

  fetch(SCRIPT_URL,{
    method:"POST",
    headers:{
      "Content-Type":"application/json"
    },
    body:JSON.stringify({
      name:name,
      mobile:mobile,
      email:email,
      password:password
    })
  })
  .then(res => res.text())
  .then(data => {
    if(data === "SUCCESS"){
      // âœ… Login success
      window.location.href = "test.html";
    }else{
      alert("Invalid password or access denied");
    }
  })
  .catch(err=>{
    alert("Server error. Try again.");
    console.error(err);
  });
}
</script>

</body>
</html>
