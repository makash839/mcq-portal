<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>MCQ Test Login</title>

<style>
body{
  font-family: Arial;
  background:#f2f2f2;
}
.box{
  background:#fff;
  max-width:400px;
  margin:60px auto;
  padding:25px;
  box-shadow:0 0 10px rgba(0,0,0,.2);
}
input{
  width:100%;
  padding:8px;
  margin:8px 0;
}
button{
  padding:8px 15px;
  margin-top:10px;
  width:100%;
}
.hidden{display:none}
.error{color:red}
.success{color:green}
</style>
</head>

<body>

<div class="box" id="loginBox">
  <h2>üîê MCQ Test Login</h2>
  <input type="password" id="loginPassword" placeholder="Enter Password">
  <button onclick="login()">Login</button>
  <p id="loginMsg" class="error"></p>
</div>

<div class="box hidden" id="subjectBox">
  <h2>üìö Select Subject</h2>

  <button onclick="startTest('history')">History</button>
  <button onclick="startTest('polity')">Polity</button>
  <button onclick="startTest('geography')">Geography</button>

  <hr>
  <h3>üîë Change Password</h3>
  <input type="password" id="newPassword" placeholder="New Password">
  <button onclick="changePassword()">Change Password</button>
  <p id="changeMsg" class="success"></p>
</div>

<script>
// ================= DEFAULT PASSWORD =================
if(!localStorage.getItem("mcqPassword")){
  localStorage.setItem("mcqPassword","1234");
}

// ================= LOGIN =================
function login(){
  const entered = document.getElementById("loginPassword").value;
  const saved = localStorage.getItem("mcqPassword");

  if(entered === saved){
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("subjectBox").classList.remove("hidden");
  } else {
    document.getElementById("loginMsg").innerText = "‚ùå Wrong Password";
  }
}

// ================= CHANGE PASSWORD =================
function changePassword(){
  const newPass = document.getElementById("newPassword").value;
  if(newPass.length < 4){
    document.getElementById("changeMsg").innerText = "‚ùå Min 4 characters required";
    return;
  }
  localStorage.setItem("mcqPassword",newPass);
  document.getElementById("changeMsg").innerText = "‚úÖ Password Changed Successfully";
  document.getElementById("newPassword").value="";
}

// ================= START TEST =================
function startTest(subject){
  window.location.href = `test.html?subject=${subject}`;
}
</script>

</body>
</html>
